{% extends "base.html" %}

{% block content %}
<h1>Написать рецензию для {{ book.title }}</h1>
<form action="{{ url_for('book.write_review', book_id=book.id) }}" method="post">
    <div class="form-group">
        <label for="rating">Оценка</label>
        <select name="rating" id="rating" class="form-control">
            <option value="5">Отлично</option>
            <option value="4">Хорошо</option>
            <option value="3">Удовлетворительно</option>
            <option value="2">Неудовлетворительно</option>
            <option value="1">Плохо</option>
            <option value="0">Ужасно</option>
        </select>
    </div>
    <div class="form-group mb-2">
        <label for="text">Текст рецензии</label>
        <textarea name="text" id="text" class="form-control" rows="5"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Сохранить</button>
    {% if errors %}
    <div class="alert alert-danger mt-3">
        <ul>
            {% for error in errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</form>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.css">
<script src="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.js"></script>
<script>
    const easyMDE = new EasyMDE({element: document.getElementById('text')});
</script>
{% endblock %}
